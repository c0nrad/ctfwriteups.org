{"ast":null,"code":"import * as i0 from \"@angular/core\";\nexport class DateAgoPipe {\n  transform(value, args) {\n    if (value) {\n      const seconds = Math.floor((+new Date() - +new Date(value)) / 1000);\n      if (seconds < 29)\n        // less than 30 seconds ago will show as 'Just now'\n        return \"Just now\";\n      const intervals = {\n        year: 31536000,\n        month: 2592000,\n        week: 604800,\n        day: 86400,\n        hour: 3600,\n        minute: 60,\n        second: 1\n      };\n      let counter;\n      for (const i in intervals) {\n        counter = Math.floor(seconds / intervals[i]);\n        if (counter > 0) if (counter === 1) {\n          return counter + \" \" + i + \" ago\"; // singular (1 day ago)\n        } else {\n          return counter + \" \" + i + \"s ago\"; // plural (2 days ago)\n        }\n      }\n    }\n\n    return value;\n  }\n  static #_ = this.ɵfac = function DateAgoPipe_Factory(t) {\n    return new (t || DateAgoPipe)();\n  };\n  static #_2 = this.ɵpipe = /*@__PURE__*/i0.ɵɵdefinePipe({\n    name: \"dateAgo\",\n    type: DateAgoPipe,\n    pure: true\n  });\n}","map":{"version":3,"mappings":";AAMA,OAAM,MAAOA,WAAW;EACtBC,SAAS,CAACC,KAAU,EAAEC,IAAU;IAC9B,IAAID,KAAK,EAAE;MACT,MAAME,OAAO,GAAGC,IAAI,CAACC,KAAK,CAAC,CAAC,CAAC,IAAIC,IAAI,EAAE,GAAG,CAAC,IAAIA,IAAI,CAACL,KAAK,CAAC,IAAI,IAAI,CAAC;MACnE,IAAIE,OAAO,GAAG,EAAE;QACd;QACA,OAAO,UAAU;MACnB,MAAMI,SAAS,GAA8B;QAC3CC,IAAI,EAAE,QAAQ;QACdC,KAAK,EAAE,OAAO;QACdC,IAAI,EAAE,MAAM;QACZC,GAAG,EAAE,KAAK;QACVC,IAAI,EAAE,IAAI;QACVC,MAAM,EAAE,EAAE;QACVC,MAAM,EAAE;OACT;MACD,IAAIC,OAAO;MACX,KAAK,MAAMC,CAAC,IAAIT,SAAS,EAAE;QACzBQ,OAAO,GAAGX,IAAI,CAACC,KAAK,CAACF,OAAO,GAAGI,SAAS,CAACS,CAAC,CAAC,CAAC;QAC5C,IAAID,OAAO,GAAG,CAAC,EACb,IAAIA,OAAO,KAAK,CAAC,EAAE;UACjB,OAAOA,OAAO,GAAG,GAAG,GAAGC,CAAC,GAAG,MAAM,CAAC,CAAC;SACpC,MAAM;UACL,OAAOD,OAAO,GAAG,GAAG,GAAGC,CAAC,GAAG,OAAO,CAAC,CAAC;;;;;IAI5C,OAAOf,KAAK;EACd;EAAC;qBA5BUF,WAAW;EAAA;EAAA;;UAAXA,WAAW;IAAAkB;EAAA","names":["DateAgoPipe","transform","value","args","seconds","Math","floor","Date","intervals","year","month","week","day","hour","minute","second","counter","i","pure"],"sourceRoot":"","sources":["/Users/c0nrad/Projects/ctfwriteups.org/fe/src/app/date-ago.pipe.ts"],"sourcesContent":["import { Pipe, PipeTransform } from \"@angular/core\";\n\n@Pipe({\n  name: \"dateAgo\",\n  pure: true,\n})\nexport class DateAgoPipe implements PipeTransform {\n  transform(value: any, args?: any): any {\n    if (value) {\n      const seconds = Math.floor((+new Date() - +new Date(value)) / 1000);\n      if (seconds < 29)\n        // less than 30 seconds ago will show as 'Just now'\n        return \"Just now\";\n      const intervals: { [key: string]: number } = {\n        year: 31536000,\n        month: 2592000,\n        week: 604800,\n        day: 86400,\n        hour: 3600,\n        minute: 60,\n        second: 1,\n      };\n      let counter;\n      for (const i in intervals) {\n        counter = Math.floor(seconds / intervals[i]);\n        if (counter > 0)\n          if (counter === 1) {\n            return counter + \" \" + i + \" ago\"; // singular (1 day ago)\n          } else {\n            return counter + \" \" + i + \"s ago\"; // plural (2 days ago)\n          }\n      }\n    }\n    return value;\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}